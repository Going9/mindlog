<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<body>
    <th:block th:fragment="navbar(supabaseUrl, supabaseAnonKey)">
        <nav class="bg-white/90 backdrop-blur-md border-b border-stone-200 sticky top-0 z-50">
            <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
                <a th:href="@{/}"
                    class="flex items-center space-x-3 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-stone-200 rounded-lg">
                    <span class="self-center text-xl font-bold tracking-tight text-stone-800">
                        Mindlog
                    </span>
                </a>

                <div class="flex items-center space-x-3 rtl:space-x-reverse">

                    <div sec:authorize="isAuthenticated()" class="flex items-center space-x-4">
                        <a th:href="@{/diaries}" data-turbo-prefetch="false"
                            class="text-sm font-medium text-stone-600 hover:text-stone-900 transition-colors">
                            내 일기
                        </a>
                        <a th:href="@{/diaries/new}" data-turbo-prefetch="false"
                            class="text-sm font-medium text-stone-600 hover:text-stone-900 transition-colors">
                            일기 쓰기
                        </a>
                        <a th:href="@{/auth/logout}" data-turbo="false"
                            class="px-4 py-2 rounded-lg text-sm font-medium text-stone-600 hover:text-stone-900 hover:bg-stone-100 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-stone-200">
                            로그아웃
                        </a>
                    </div>

                    <div sec:authorize="!isAuthenticated()">
                        <a th:href="@{/auth/login}" data-turbo="false"
                            class="px-5 py-2.5 rounded-xl text-sm font-medium bg-stone-800 text-white hover:bg-stone-700 transition-all duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-stone-400 focus:ring-offset-2">
                            로그인
                        </a>
                    </div>

                </div>
            </div>
        </nav>
    </th:block>
</body>

</html>