<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <th:block th:replace="~{fragments/head :: head}"></th:block>

    <meta name="_csrf" th:content="${_csrf?.token}" th:if="${_csrf}" />
    <meta name="_csrf_header" th:content="${_csrf?.headerName}" th:if="${_csrf}" />

    <style>
        body.is-native {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
        }
    </style>
</head>

<body data-controller="flash-notice" class="text-stone-800 antialiased min-h-screen" th:classappend="${isNative} ? 'is-native' : 'is-web'">

    <div class="sticky top-0 z-50">
        <nav th:replace="~{fragments/navbar :: navbar}"></nav>
    </div>

    <main layout:fragment="content" class="container mx-auto px-4 py-6 max-w-4xl"></main>

    <div th:replace="~{fragments/scripts :: scripts(
                ${@environment.getProperty('mindlog.supabase.url')},
                ${@environment.getProperty('mindlog.supabase.anon-key')}
            )}"></div>

    <th:block layout:fragment="script"></th:block>
</body>

</html>
