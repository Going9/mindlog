# 작업 로그: 중복 날짜 일기 검증 개선 (2026-02-03)

## 작업 내용
이미 일기가 존재하는 날짜에 새로운 일기를 작성하려고 할 때, 시스템 예외가 발생하는 대신 사용자에게 검증 에러 메시지를 보여주도록 개선했습니다.

1. **커스텀 예외 도입**: `DuplicateDiaryDateException`을 생성하여 중복 날짜 상황을 명확히 구분했습니다.
2. **서비스 레이어 수정**: `DiaryService`에서 중복 날짜 검증 시 `DuplicateDiaryDateException`을 던지도록 수정했습니다.
3. **컨트롤러 레이어 개선**:
   - `DiaryController.create`: 저장 전 중복 날짜를 확인하여 `BindingResult`에 에러를 추가합니다.
   - `DiaryController.update`: 일기 수정 시에도 날짜를 변경할 때 다른 일기와 중복되는지 검증 로직을 추가했습니다. (본인 일기인 경우는 제외)
   - 검증 실패 시 `422 Unprocessable Entity` 상태 코드와 함께 폼을 재렌더링하여 Turbo가 정상적으로 에러를 처리하도록 했습니다.
4. **테스트 코드 추가**: `DiaryServiceTest`에 중복 날짜 발생 시 예외가 정상적으로 발생하는지 확인하는 테스트 케이스를 추가했습니다.

## 결과
- 사용자가 이미 일기가 있는 날짜를 선택하고 저장하면 "이미 해당 날짜에 일기가 존재합니다"라는 메시지가 날짜 필드 하단에 표시됩니다.
- 서버 측의 불필요한 스택 트래이스 로그 출력을 방지하고, 사용자 경험을 향상시켰습니다.
